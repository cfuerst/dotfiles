#custom prompt setup

#util functions
source ~/.zsh/.gitutils
source ~/.zsh/.svnutils

#prompt will be evaluated first (use functions)
setopt PROMPT_SUBST

#show a specific promt suffix if in a
#git or svn repository or default
function prompt_suffix() {
    if is_svn; then
        echo '⚡' 
    elif is_git; then
        echo '±'
    else; echo '$'
    fi
}

function right_prompt() {
    if is_svn; then
        get_svn_status
    elif is_git; then
        get_git_status
    else; echo '%*'
    fi
}

#default
PROMPT='╭─%{$fg_bold[magenta]%}%n%{$reset_color%} at %{$fg_bold[yellow]%}%m%{$reset_color%} in %{$fg_bold[green]%}%(!.%1~.%~)%{$reset_color%}
╰─ $(prompt_suffix) '

#extra right prompt
RPROMPT='$(right_prompt)'
